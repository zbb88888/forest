## 1. 产品概述
《黑暗森林》(Dark Forest) 是一款2D像素风自动化生产协同塔防游戏，通过"零肝度"自动化机制、能源心脏系统和极致数值膨胀设计，目标瞄准Steam排行榜Top 80-100赛道。

### 1.1 故事背景与世界观 (Core Concept)
- **背景设定**：3026年初，全球AI逻辑闭环引发"大崩解"，旧人类文明覆灭。数个世纪后，世界化为被生锈金属覆盖、由原始逻辑驱动的"黑暗森林"。
- **视觉美学**：粗粝的铁锈层下隐藏着高频脉动的纳米电路，呈现"故障艺术(Glitch Art)"风格。废墟摩天大楼成为散热塔，森林植被由扭曲电缆构成。
- **敌对势力**：Root Network（森林根网络），视生物碳基生命为"溢出错误"，通过哨兵机械进行清理。

### 1.2 角色身份与动机 (Player Identity)
- **玩家身份**："最后的管理员"，拥有3026年灾难前夕冻结的"原始人类基因"（Root Privilege）。
- **核心使命**：
  - **重构根协议**：夺回S级守护者节点。
  - **清除逻辑坍缩点**：在15日周期结束前净化古老服务器核心。
  - **达成月相临界点**：挺过第15日"血月"，为人类基因库争取重启算力。
- **基因进化**：通过"基因重组站"利用机械残骸提取碳基样本，诱发生物学层面的能力迭代。

### 1.3 核心卖点
- **"零肝度"自动化**：机器人负责重复劳动，玩家专注最高策略。
- **能源心脏**：整个基地的生存与扩张完全依赖能源存储与调度。
- **极致数值**：引入乘法倍率逻辑，实现从10点到10,000,000点伤害的指数级跨越。
- **双人协作**：优先完善本地/远程双人协作，通过交换灵宠与装备实时改变战术地位。

## 2. 核心玩法机制 (Gameplay Mechanics)

### 2.1 自动化与生产系统 (Automation)
核心理念：**"零肝度"**。玩家负责宏观策略，机器人负责微观执行。
- **机器人(Workers)**：
  - **自动采集**：收割植物转化的基因能源。
  - **自动探测**：扫描地下矿脉与逻辑坍缩点。
  - **自动维修**：修补被夜间AI破坏的边界防御。
- **智能告警(Smart Alert)**：UI实时提示"能源缺口"、"防线薄弱点"，而非让玩家手动巡查。

### 2.2 能源心脏系统 (Energy Heart)
区别于传统塔防的金币系统，**能源**是唯一的生命线。
- **获取方式**：
  - **白天**：植物光合作用（主要来源）。
  - **夜晚**：月能采集器（高风险高回报）。
  - **战斗**：击毁AI残骸进行"逆向转化"。
- **存储与消耗**：
  - **核心基座**：能源的存储容器，升级可提升上限。
  - **消耗**：防御罩维持、机器人充电、灵宠武装充能均需持续消耗能源。
- **策略博弈 - 能源过载 (Overload)**：
  - **机制**：玩家可主动开启"过载模式"，瞬间消耗大量能源。
  - **效果**：所有武器伤害提升 **x10**（乘法计算）。
  - **风险**：若能源耗尽，基地将进入"断电状态"（护盾消失、塔防停摆），极易被秒杀。

### 2.3 战斗与数值系统 (Combat & Scaling)
核心体验：**极致的数值膨胀**与**爽快感**。
- **数值逻辑**：采用乘法倍率系统（类似《Balatro》）。
  - **公式**：`最终伤害 = (基础攻击 + 武器加成) x (灵宠倍率) x (能源过载倍率) x (连携Combo倍率)`
  - **成长曲线**：从初期的 10点 伤害，通过指数叠加，后期达到 10,000,000+ 点。
- **灵宠系统 (Spirit Pets)**：
  - **定位**：玩家属性的载体（无职业限制，由灵宠决定）。
  - **分类**：
    - **猫 (Scout)**：高视野、高暴击倍率。
    - **狗 (Tank)**：高护甲、嘲讽光环。
    - **鸟 (Support)**：资源获取加成、全队增益。
  - **进化**：吞噬敌人芯片，随机获得词缀（如"攻击附带EMP"）。
- **技能体系**：
  - **配置**：每局可选 **5个攻击技能** + **1个灵宠交互技能**。
  - **交互技能**：如"收回灵宠"（回血）、"灵宠投掷"（AOE）、"过载加速"。
  - **传说技能**：战斗中唤醒"古神"（旧时代AI核心），随机获取强力技能。

### 2.4 领土扩张 (Territory Expansion)
- **植物演替**：植物不仅是资源点，更是领地标记。
- **机制**：植物会自动腐蚀金属地表，将"机械废土"转化为"自然领地"。
- **收益**：领地面积越大 = 核心存储上限越高 = 能源获取基数越大。

### 2.5 双人协作 (Co-Op)
- **职业分工**：无固定职业，通过交换灵宠/装备实时切换。
  - **拓荒者 (Pioneer)**：负责外围探索、植物种植、引导仇恨。
  - **机械师 (Mechanic)**：负责基地建设、能源调度、后排输出。
- **资源共享**：能源池共享，但装备掉落独立。

## 3. 游戏循环与关卡流程 (Game Loop)
玩家进入游戏后，经历15日月相周期循环，分为**扩张(Day)**与**生存(Night)**两个阶段：

- **第1-7日 (新月 - 试探期)**：
  - **Day**：快速利用机器人收割废墟资源，建立初步防御圈。
  - **Night**：低密度的侦察型AI（如"哨兵无人机"）骚扰，测试玩家防线薄弱点。
  
- **第8日 (满月 - 平安夜)**：
  - **特殊机制**：月光达到峰值，AI系统暂时过热停机。
  - **收益**：全图资源产出 **x200%**。
  - **策略**：全速扩张领土，升级核心基座，为后半程的高压做准备。

- **第9-14日 (盈凸 - 进化期)**：
  - **Day**：机械生物开始进化出针对性抗体（如"抗光束装甲"）。
  - **Night**：敌人生成密度以 **1.2x** 系数逐日递增，出现精英怪。
  
- **第15日 (朔月/大潮 - 终极挑战)**：
  - **状态**：**"逻辑闭环"**。所有AI逻辑锁解除，终极野兽潮（Swarm-mind）发动总攻。
  - **随机性**：野兽潮强度会有 **10%-50%** 的随机浮动，考验极限应变。
  - **结果**：
    - **失败**：Game Over，结算分数。
    - **胜利**：触发**"世界重塑" (Soft Reset)**。基地建筑清零，保留"基因突变"与"蓝图等级"，进入更高难度系数的新循环。

```mermaid
graph TD
    A[Start: 最后的管理员苏醒] --> B[配置: 选择灵宠/初始技能]
    B --> C[Phase 1: 新月试探 (Day 1-7)]
    C --> D[Phase 2: 满月爆发 (Day 8 - 资源x200%)]
    D --> E[Phase 3: 进化高压 (Day 9-14)]
    E --> F[Phase 4: 朔月终极潮 (Day 15)]
    F --> G{存活?}
    G -->|是| H[世界重塑: 难度升级+保留元进度]
    H --> C
    G -->|否| I[结算: 基因数据上传]
```

## 4. 用户界面设计

### 4.1 设计风格
- **视觉风格**：2D像素风 + "故障艺术(Glitch Art)"。
- **核心美学**：粗粝铁锈质感(旧世界) vs 高频脉动霓虹(AI逻辑)的反差。
- **主色调**：深绿色(自然/电缆藤蔓) + 铁锈红(废墟) + 霓虹蓝(高频电路)。
- **特效表现**：
  - **数值碎裂**：伤害过载时数字产生视觉碎裂特效。
  - **故障效果**：夜间巡查节点启动时，电路迸发冰冷故障光效。
- **字体**：像素字体，关键信息带故障抖动效果。

### 4.2 页面设计
| 页面名称 | 模块名称 | UI元素 |
|----------|----------|--------|
| 主游戏界面 | 状态栏 | 左上角：能源储量条；右上角：第X日倒计时；机械风格边框 |
| 主游戏界面 | 游戏区域 | 中央2D俯视图；像素风格植物、机器人、敌人；昼夜光影切换 |
| 能源面板 | 能源管理 | 左侧边栏；实时能源流动画；过载按钮带风险警告 |
| 灵宠界面 | 灵宠选择 | 底部横排卡片；三系灵宠图标；装备槽位显示 |
| 升级界面 | Roguelite选择 | 中央弹窗；三选一卡片；乘法倍率数值高亮显示 |

### 4.3 响应式设计
- **优先平台**：PC端为主，支持键鼠操作
- **分辨率适配**：1920x1080标准，支持1366x768+
- **控制方式**：WASD移动，鼠标瞄准，数字键技能
- **协作模式**：本地分屏或网络联机界面适配

### 4.4 视觉与特效技术指南 (Visual & VFX Technical Guide)
- **环境氛围**：像素风格2D场景，加入粒子特效。
- **光照系统**：昼夜循环动态光影；能源过载发光效果。
- **动画效果**：机器人移动、植物生长、技能释放帧动画。
- **特效设计**：乘法倍率触发时的数值爆发特效。

## 6. 未来愿景：星球改造计划 (Future Expansion: Planet Reclamation)

### 6.1 核心概念
在通关初始的"黑暗森林"后，玩家将解锁**星际传送门**。每一对玩家（及其灵宠）将成为"生态修复员"，前往随机生成的**电子星球 (Cyber-Planets)** 执行净化任务。

### 6.2 玩法循环
- **传送 (Warp)**：
  - 玩家被传送到一个全新的、被流氓AI (Rogue AI God) 统治的电子星球。
  - 每个星球拥有独特的环境规则（如重力异常、酸雨腐蚀、逻辑反转）。
- **合作 (Co-Op)**：
  - 双人协作对抗星球的AI神明。
  - 通过种植"根代码植物"覆盖星球表面，逐步夺回控制权。
- **重焕绿色 (Re-greening)**：
  - 最终目标是将死寂的电子废土改造为生机勃勃的绿色星球。
  - 成功净化后，该星球将成为玩家的永久据点，并提供独特的跨星球资源。

### 6.3 多样化玩法 (Procedural Gameplay)
每个电子星球都对应一种全新的玩法变体，例如：
- **迷宫星球**：侧重解谜与路径规划。
- **熔炉星球**：侧重热量管理与生存。
- **数据海洋**：侧重流体动力学与水下战斗。